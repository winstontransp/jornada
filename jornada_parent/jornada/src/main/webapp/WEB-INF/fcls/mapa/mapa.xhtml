<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:plcf="http://www.powerlogic.com.br/plcf" 
	xmlns:tr="http://myfaces.apache.org/trinidad" 
	xmlns:trh="http://myfaces.apache.org/trinidad/html">
	
<style>
span.cellWithoutBackground
{
    display:block;
    background-image:none;
    background:white;
    margin-right:0px;
    margin-left:0px;
    height:2px;
    padding:0px;
}
</style>
	  
	<ui:composition template="/fcls/template/PlcGeralTemplate.xhtml"> 
		<ui:define name="plc-corpo-formulario"> 
			<div id="plc-form-basico"> 
				<div id="#{plcAliasPrefixoAction}Arg" class="plc-form-basico-topo"> 
					<plcf:tabela tituloChave="mapaarg.titulo"> 
						<plcf:linha> 
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.dataInicio']}"/>  
								<plcf:data id="dataInicio" value="#{mapa.dataInicio}" ajudaChave="ajuda.dataInicio"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.dataFim']}"/>  
								<plcf:data id="dataFim" value="#{mapa.dataFim}" ajudaChave="ajuda.dataFim"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.motorista']}"/>  
								<plcf:vinculado id="motorista" 
									value="#{mapa.motorista}" 
									propSelPop="motorista" idExibe="N" 
									idSomenteLeitura="N" 
									autoRecuperacaoClasse="com.winston.jornada.entity.Motorista" 
									actionSel="motoristasel" modal="S" 
									larg="1024"
									riaUsa="autocomplete(url='/jornada/soa/service/autocomplete.motorista?q=nome')" 
									lookupTamanho="40" 
									ajudaChave="ajuda.motorista" onkeydown="selecionaPorTecla(event,this);"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.turno']}"/>  
								<plcf:comboEstatico id="turno" value="#{mapa.turno}" dominio="Turno" exibeBranco="S" ajudaChave="ajuda.turno"/> 
							</plcf:celula>  
							<plcf:celula> 
								<plcf:titulo value="#{msg['label.operacao']}"/>  
								<plcf:comboDinamico id="operacao" value="#{mapa.operacao}" dominio="Operacao" exibeBranco="S" ajudaChave="ajuda.operacao"/> 
							</plcf:celula> 
						</plcf:linha> 
					</plcf:tabela> 
				</div>
				<div id="#{plcAliasPrefixoAction}Sel" class="plc-form-basico-sel"> 
					<script type="text/javascript">//<![CDATA[
					function colorFormatter (cellvalue, options, rowObject) {
						bgColor = "";
						fgColor = "";

						//alert(cellvalue);
						
						if (cellvalue=="Trabalho") {
							bgColor = "#034803";
							fgColor = "#034803";
						} else if (cellvalue=="Descanso") {
					        bgColor = "grey";
							fgColor = "grey";
						} else if (cellvalue=="FÃ©rias") {
						     bgColor = "yellow";
							 fgColor = "yellow";
						} else if (cellvalue=="Afastamento") {
						     bgColor = "black";
							 fgColor = "black";
						} else if (cellvalue=="Indefinido") {
						     bgColor = "lightgrey";
							 fgColor = "lightgrey";
						} else {
						     bgColor = "red";
							 fgColor = "red";
						} 		

						vlCell = "";
						
						// vlCell = cellvalue.substr(0,1);
						vlCell = cellvalue;

						//alert(vlCell);
						
						return '<span class="cellWithoutBackground" style="color:'+fgColor+';background-color:'+bgColor+';">&nbsp;'+ vlCell +'&nbsp;</span>';
					}
	jQuery(function(){plc.criaSelecaoJqGrid('plc-grid','plc-grid-navegador',{
		evento:'${param.evento}'
				,modoJanelaPlc:'${param.modoJanelaPlc}'
				,rowNum:'30'
				,nomeLogica:'mapacon'
				,propAgregada:'mapa'
				,jqGrid:{caption:
				'#{msg['mapa.titulo']}',
						colNames:
					['#{msg['label.motorista']}',
						'01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31'],
				colModel:[{name:'motorista',index:'motorista',width:'18%'},
				          {name:'statusDia01',index:'statusDia03',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false,sortable:false},
				          {name:'statusDia02',index:'statusDia03',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false,sortable:false},
				          {name:'statusDia03',index:'statusDia03',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false,sortable:false},
				          {name:'statusDia04',index:'statusDia04',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false,sortable:false},
				          {name:'statusDia05',index:'statusDia05',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false,sortable:false},
				          {name:'statusDia06',index:'statusDia06',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia07',index:'statusDia07',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia08',index:'statusDia08',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia09',index:'statusDia09',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia10',index:'statusDia10',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia11',index:'statusDia11',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia12',index:'statusDia12',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia13',index:'statusDia13',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia14',index:'statusDia14',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia15',index:'statusDia15',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia16',index:'statusDia16',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia17',index:'statusDia17',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia18',index:'statusDia18',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia19',index:'statusDia19',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia20',index:'statusDia20',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia21',index:'statusDia21',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia22',index:'statusDia22',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia23',index:'statusDia23',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia24',index:'statusDia24',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia25',index:'statusDia25',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia26',index:'statusDia26',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia27',index:'statusDia27',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia28',index:'statusDia28',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia29',index:'statusDia29',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia30',index:'statusDia30',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false},
				          {name:'statusDia31',index:'statusDia31',width:'2%',align:"center",formatter:colorFormatter,title:true,resizable:false}]},
			aoSelecionar:function(id){}});});//]]> </script>  
					<table id="plc-grid" width="100%" class="scroll" cellpadding="0" cellspacing="0"/>  
					<div id="plc-grid-navegador" class="scroll" style="text-align:center;"/> 
				</div> 
			</div> 
		</ui:define> 
	</ui:composition> 
</html>
